# 程序的机器级表示

## 寄存器

一个IA32的CPU包含一组八个存储32位值的寄存器，这些寄存器用来存储整数数据和指针
1. eax
2. ecx
3. edx
4. ebx
5. edi
6. esi
7. ebp
8. esp

## 操作指示符
> 指令可以有一个或多个操作数，指示出执行一个操作中要引用的源数据值，以及放置结果的目的位置。源数据值可以以常数形式给出，或是从寄存器或存储器中读出。结果可以存放在寄存器或存储器中.

操作数可以分为三种类型:
1. 立即数 也就是常数值 立即数的书写方式是$后跟一个整数 eg: $-577 $0x1F
2. 寄存器 表示某个寄存器的内容
3. 存储器的引用  会根据计算出来的地址访问某个存储器位置 

## 数据传送指令
> 最频繁使用的指令是执行数据传送的指令.操作数符号的通用性使得一条简单的传送指令能够完成这么多机器中要好几条指令才能完成的功能. 常用的是传送双字的`movl`指令.
> 源操作数指定一个值,它可以是立可以存放在寄存器,中,也可以存放在存储器中,目的操作数指定一个位置,它可以是寄存器,也可以是存储器地址.IA32加了一条限制,wfuxrxwyr两个操作数不能都指向存储器位置
> 将一个值从一个存储器位置拷贝到另一个存储器位置需要两条指令.第一条指令将源值加载到寄存器中,第二条将该寄存器值写入目的位置.

movl指令的五种可能 第一个是源操作数,第二个是目的操作数
1. movl $0x4050, %eax    立即数->寄存器
2. movl %ebp, %esp       寄存器->寄存器
3. movl (%edi,ecx),%eax  内存->寄存器
4. movl $-17, (%esp)     立即数->内存
5. movl %eax, -12(%ebp)  寄存器->内存

## 流程控制 

- CF: carry flag 进位标志
- ZF: zero flag 零标志
- SF: symbol flag 符号标志
- OF: overflow flag 溢出标志

## 过程
> 一个过程调用包括将数据(以过程参数和返回值的形式)和控制从代码的一部分传递到另一部分. 它还必须在进入时为过程的局部变量分配空间,并在退出时释放这些空间.

栈帧
> IA32程序用程序栈来支持过程调用. 栈用来传递过程参数,存储返回信息,保存寄存器以供以后恢复使用,以及用于本地存储.为单个过程分配的那部分栈称为栈帧

![image](https://user-images.githubusercontent.com/26846402/164680028-8df8e58a-44ce-4e40-af9c-c2afe82318b8.png)

