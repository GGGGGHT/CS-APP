# 计算机系统漫游

## 信息就是位+上下文 

> 系统中所有的信息(包括磁盘文件，存储器中的程序存储器中存放的用户数据以及网络上传送的数据)，都是由一串比我表示的.区分不同数据对象的唯一方法是我们读取到这些数据对象时的上下文。
  在不同的止下文中,同样的字节序列可能表示一个整数,浮点数,字符串或者机器指令.
  
## 进程

> 现代系统上运行提供一种假象，就好像系统上只有这个程序在运行。程序看上去独占地使用处理器，主存和I/O设备，而处理器看上去就像在不间断地一条接一条地执行程序中的指令。该程序的代码
和数据就好像是系统存储器中唯一的对象，这些假象是通过进程的概念来实现的，进程是计算机科学中最重要和最成功的概念之一。
进程是操作系统对运行程序的一种抽象。在一个系统上可以同时运行多个进程，而每个进程都好像在独占地使用硬件。我们称之为并发支行，实际上是说一个进程的指令和另一个进程的指令是交错执行的。
操作系统实现这种交错执行的机制称为上下文切换(context switching).


## 线程

> 现代系统中，一个进程实际上可以由多个称为线程的执行单元组成，每个线程都支行在进程的上下文中，并共享同样的代码和全局数据。由于网络服务器中对并行处理的要求，
线程成为越来越重要的编程模型。因为多线程之间比多进程之间更容易共享数据，也因为线程一般都比进程更高效。

## 虚拟内存

> 虚拟内存是一个抽象的概念，它为每个进程提供了一个假象，好像每个进程都在独占地使用请在。每个进程看到的存储器都是一致的，称之为虚拟地址空间。在Liunx中，最上面的四分之一地地址空间
是预留给操作系统中的代码和数据的，这对所有的进程都一样。底部的四分之三的地址空间用来存放用户进程定义的代码和数据。

![内存布局](./Snipaste_2022-04-21_16-35-08.png)

内存布局：
- 程序代码和数据： 代码是从同一固定地址开始，紧接着的是和C全局变量相对应的数据区，代码和数据区是由可执行目标文件直接初始化的
- 堆： 代码和数据区后紧随着的是支行时堆。代码和数据区是在进程一旦开始运行时就被指定了大小的，与此不同，作为调用像malloc和free这样的C标准库函数的结果，堆可以在运行时动态地扩展和收缩
- 共享库： 在地址空间的中间附近是一块用来存放像C标准库和数学库这样的共享库的代码和数据的区域
- 栈： 位于用户虚拟地址空间顶部的是用户栈，编译器用它来实现函数调用。和堆一样，用户栈在程执行期间可以动态地扩展和收缩。每次我们调用一个函数时，栈就会增长，每次我们从函数返回时，栈就会收缩。
- 内核虚拟内存： 内核是操作系统总是驻留在内存的部分。地址空间顶部的四分之一部分是为内核预留的。应用程序不允许读写这个区域的内容或者直接调用内核代码定义的函数。

## 文件 

> 文件只不过就是字节序列。每个I/O设备，包括磁盘，键盘，显示器，甚至于网络，都可以被看成是文件。系统中的所有输入输出都是通过使用系统函数调用读写文件来实现的

## 网络

> 网络可被视为又一个I/O设备，当系统从请在拷贝一串字符到网络适配器时， 数据流经过网络到达另一台机器，而不是到达本地磁盘驱动器。相似的，系统可以读取从其他机器发送来的数据，并把数据拷贝到自己的主存
